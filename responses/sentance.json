[{"start_time":"15.19","end_time":"21.56","sentance":"Bonjour et bienvenue à choisir la bonne base de données pour les applications modernes dans le cadre de notre nouvelle série en ligne West Summit."},{"start_time":"21.57","end_time":"25.3","sentance":"Je m'appelle William Wong et je suis un architecte spécialisé dans les solutions de bases de données."},{"start_time":"25.31","end_time":"30.19","sentance":"Et aujourd'hui, je serai rejoint par Michael Riccardi, notre architecte spécialisé dans les solutions de développement."},{"start_time":"31.76","end_time":"32.18","sentance":"Aujourd'hui."},{"start_time":"32.18","end_time":"45.42","sentance":"Nous sommes très heureux d'être ici pour vous montrer comment des bases de données spécialisées peuvent être utilisées pour améliorer l'échelle, les performances et la disponibilité de vos applications. Notre programme présentera les exigences des applications modernes."},{"start_time":"45.43","end_time":"55.91","sentance":"Nous examinerons ensuite les défis qui peuvent être résolus à l'aide de microservices et de bases de données spécialisées. Avant de voir comment nous pouvons sélectionner les bases de données adaptées à vos charges de travail spécifiques."},{"start_time":"56.34","end_time":"56.77","sentance":"Michael."},{"start_time":"56.77","end_time":"67.25","sentance":"Nous aborderons ensuite un peu plus en profondeur où il modernisera une application, passant d'une pile de bases de données relationnelles monolithique à une application utilisant des bases de données spécialement conçues et vous montrera les différences en termes de performances et d'échelle."},{"start_time":"67.26","end_time":"70.22","sentance":"Commençons donc et examinons les exigences de nos applications modernes."},{"start_time":"70.85","end_time":"77.59","sentance":"Et nous examinons d'abord les applications que nous utilisons tous au quotidien, comme le covoiturage, les médias, le streaming, les services bancaires, les jeux vidéo et les réseaux sociaux."},{"start_time":"77.6","end_time":"79.89","sentance":"Nous commençons à voir des modèles communs."},{"start_time":"79.9","end_time":"84.5","sentance":"Ces modèles peuvent indiquer que des millions d'utilisateurs accèdent à nos applications dans différentes zones géographiques."},{"start_time":"84.51","end_time":"92.6","sentance":"Et ces mêmes utilisateurs s'attendent à des expériences instantanées qui pourraient se résumer à des temps de réponse constants en millisecondes, voire en moins de la milliseconde."},{"start_time":"93.24","end_time":"100.7","sentance":"Nos applications devront être hyperdimensionnées pour répondre aux demandes liées à des événements tels que nos ventes flash ou le traitement de l'urine, puis être réduites à la baisse."},{"start_time":"100.7","end_time":"103.15","sentance":"Nous ne sommes pas utilisés afin de minimiser les coûts."},{"start_time":"104.21","end_time":"110.5","sentance":"Il est prévu de saisir plus de données au cours des trois prochaines années que celles des 30 dernières années."},{"start_time":"110.62","end_time":"114.35","sentance":"Et cela nécessitera des outils spécialisés pour traiter les pétaoctets."},{"start_time":"114.36","end_time":"117.46","sentance":"Si ce n'est pas zéro octet de données structurées et non structurées."},{"start_time":"118.46","end_time":"126.08","sentance":"Si nous prenons le temps de réfléchir aux modèles architecturaux de la plupart de ces applications basées sur le cloud, vous constaterez qu'il s'agit toutes de microservices."},{"start_time":"126.74","end_time":"130.98","sentance":"Cela signifie qu'ils sont hautement distribués, faiblement couplés et accessibles via un P."},{"start_time":"130.98","end_time":"131.08","sentance":"I."},{"start_time":"131.08","end_time":"131.37","sentance":"S."},{"start_time":"132.27","end_time":"138.93","sentance":"Alors, que signifie ce changement d'architecture pour notre base de données sous-jacente alors que nos applications sont désormais découplées en services."},{"start_time":"138.94","end_time":"142.9","sentance":"Cela permet à chacun de ces services de disposer de sa propre base de données indépendante."},{"start_time":"142.91","end_time":"154.35","sentance":"Et cela nous apportera de nombreux avantages, par exemple, nous donnera la possibilité d'hyperdimensionner nos applications, car chaque service et canal de base de données évolue indépendamment."},{"start_time":"155.11","end_time":"157.17","sentance":"Prenons le Black Friday comme cas d'utilisation."},{"start_time":"157.18","end_time":"167.7","sentance":"Il se peut que nous devions adapter notre catalogue et notre service de paiement à des centaines de milliers de demandes simultanées sur une courte période, mais le nombre d'inscriptions d'utilisateurs risque de ne pas augmenter dans la même mesure."},{"start_time":"169.34","end_time":"171.39","sentance":"Un autre avantage est l'agilité accrue."},{"start_time":"171.69","end_time":"175.13","sentance":"Puisque nous pouvons désormais innover plus rapidement sur différents composants."},{"start_time":"175.91","end_time":"185.12","sentance":"Nous pouvons rapidement tester et restaurer de nouvelles versions et fonctionnalités à un niveau modulaire sans avoir à gérer toutes les dépendances couplées complexes liées aux monolithes."},{"start_time":"186.89","end_time":"204.22","sentance":"L'un des défis commerciaux courants consiste à rendre nos applications plus disponibles et, en découplant nos bases de données, nous augmenterons leur disponibilité globale, étant donné que nous ne disposons plus d'une base de données monolithique qui sert de point de conflit unique pour nos événements tels que les déploiements de code, les mises à niveau et les correctifs."},{"start_time":"204.23","end_time":"207.17","sentance":"Maintenant que nous comprenons les avantages du découplage de nos données."},{"start_time":"207.17","end_time":"211.76","sentance":"Pourquoi envisagerions-nous des bases de données spécialement conçues pour nos microservices ?"},{"start_time":"212.77","end_time":"218.51","sentance":"Nos développeurs souhaitent disposer de la base de données adaptée aux besoins de nos applications modernes, comme nous l'avons décrit précédemment."},{"start_time":"218.52","end_time":"225.66","sentance":"Et franchement, cette approche universelle qui consiste à utiliser une base de données relationnelle pour tout ne fonctionne tout simplement plus."},{"start_time":"225.8","end_time":"237.79","sentance":"Par exemple, nous pouvons avoir besoin d'une base de données pour fournir des temps de réponse de latence de l'ordre de la microseconde afin de pouvoir afficher rapidement nos sites Web ou pour fournir des temps de réponse cohérents afin de répondre aux demandes des utilisateurs des chirurgiens."},{"start_time":"237.8","end_time":"242.23","sentance":"Et l'architecture relationnelle n'est pas la mieux adaptée à ces cas d'utilisation particuliers."},{"start_time":"242.77","end_time":"253.51","sentance":"En fait, le fait de ne pas utiliser la bonne base de données entraîne généralement des problèmes de performances, un manque d'évolutivité, un manque de flexibilité pour les développeurs et une augmentation de nos coûts globaux."},{"start_time":"255.29","end_time":"264.03","sentance":"Donc, traditionnellement, lorsque je parle à mes clients, c'est un obstacle à l'adoption de ces bases de données spécialement conçues avec des frais généraux opérationnels potentiels."},{"start_time":"264.04","end_time":"272.06","sentance":"Et cela comprenait des investissements dans du matériel et des logiciels initiaux ou une expertise pour les rendre évolutifs, hautement disponibles et performants."},{"start_time":"272.66","end_time":"274.56","sentance":"Et c'est là qu'intervient l'AWS."},{"start_time":"274.57","end_time":"293.05","sentance":"Nous proposerons le portefeuille le plus large et le plus complet de plus de 15 bases de données spécialisées capables de prendre en charge les différents modèles de données en tirant parti du fait que les bases de données personnalisées et entièrement gérées que nous avons créées à partir de zéro. Les clients peuvent désormais gagner du temps et de l'argent, améliorer les performances à grande échelle et innover plus rapidement."},{"start_time":"293.62","end_time":"305.71","sentance":"Nous avons créé des bases de données spécialement conçues pour répondre à tous les cas d'utilisation, comme le document à valeur clé relationnelle en mémoire, le registre de séries chronologiques à colonnes larges et nos bases de données graphiques."},{"start_time":"307.63","end_time":"315.4","sentance":"Maintenant que nous comprenons la nécessité de disposer de bases de données spécialement conçues, comment procéderiez-vous pour sélectionner les bonnes bases de données pour vos cas d'utilisation particuliers ?"},{"start_time":"316.14","end_time":"324.65","sentance":"Ce que j'aimerais dire aux gens, c'est qu'au lieu de regarder une liste de 100 bases de données différentes, pourquoi ne pas commencer par réfléchir à des catégories de bases de données communes ?"},{"start_time":"325.3","end_time":"328.5","sentance":"Maintenant, nous examinons rapidement les catégories."},{"start_time":"328.51","end_time":"342.2","sentance":"Non seulement vous trouverez cette base de données relationnelle familière sur la gauche, mais vous verrez également d'autres bases de données, comme notre base de données de documents Amazon qui est optimisée pour stocker les données au format Jason."},{"start_time":"342.8","end_time":"353.05","sentance":"Et comme il s'agit d'une base de données sans suite, elle nous donnera la flexibilité nécessaire pour modifier les schémas d'applications, mais elle nous permettra également d'interroger des documents en fonction de n'importe quel attribut."},{"start_time":"353.06","end_time":"364.16","sentance":"Et c'est très pratique pour notre gestion de contenu, nos applications mobiles ou une base de données graphique telle qu'Amazon Neptune, qui nous permet ensuite de travailler avec des ensembles de données hautement connectés."},{"start_time":"364.78","end_time":"377.15","sentance":"Nous pouvons essayer de modéliser cela dans une base de données relationnelle avec des articulations complexes et des requêtes imbriquées, mais notre latence augmentera à mesure que le nombre de nos relations augmentera dans les bases de données graphiques."},{"start_time":"377.15","end_time":"386.34","sentance":"Cependant, cela nous permet de parcourir des millions de relations en quelques secondes, ce qui est idéal pour la détection des fraudes, les réseaux sociaux et nos moteurs de recommandation."},{"start_time":"387.53","end_time":"403.91","sentance":"Enfin, comme une base de données de séries chronologiques comme notre flux temporel Amazon, qui est optimisée pour ingérer des milliards de données de séquence temporelle par jour et nous fournir des fonctions basées sur le temps telles que la corrélation et l'interpolation afin que nous puissions obtenir de meilleures informations à partir de ces données."},{"start_time":"403.97","end_time":"408.23","sentance":"Et c'est idéal pour nos applications de développement IoT ou de suivi d'événements."},{"start_time":"409.29","end_time":"415.28","sentance":"Prenons maintenant le temps d'examiner un peu plus en détail certaines catégories très courantes que j'ai rencontrées chez mes clients."},{"start_time":"416.96","end_time":"440.76","sentance":"Commençons par un modèle de données relationnelles très familier. Les données relationnelles sont hautement structurées, les données sont divisées en tables et les relations imposées par le système sont des clés primaires et référentielles et de bons cas d'utilisation seront les charges de travail pour lesquelles nous ne pouvons pas prédéfinir tous nos modèles d'accès. dès le départ ou si nous avions des applications qui nécessitent une intégrité référentielle élevée et une forte cohérence."},{"start_time":"440.77","end_time":"442.86","sentance":"Comme pour nos systèmes de paiement en ligne."},{"start_time":"443.59","end_time":"447.98","sentance":"Amazon Arora est une base de données native dans le cloud que nous pouvons choisir pour nos modèles relationnels."},{"start_time":"447.99","end_time":"457.12","sentance":"Arora est compatible à la fois avec ma suite et avec Postgres et peut nous aider à améliorer nos performances en fournissant un débit jusqu'à cinq fois supérieur à celui de la version standard."},{"start_time":"457.12","end_time":"460.58","sentance":"Ma suite et trois fois plus que celle de Postgres standard."},{"start_time":"460.66","end_time":"469.84","sentance":"Cela nous aidera à dimensionner automatiquement les ressources de calcul et de stockage et nous avons conçu Billy pour stocker nos données de six manières sur trois zones de disponibilité."},{"start_time":"470.38","end_time":"483.07","sentance":"Et comme il s'agit d'un service géré, il permettra d'automatiser des tâches telles que le déploiement et le provisionnement, des correctifs et des mises à niveau réguliers, des sauvegardes et nous fournira des fonctionnalités de sécurité telles que le chiffrement en transit et au repos."},{"start_time":"485.16","end_time":"486.36","sentance":"Une autre excellente catégorie."},{"start_time":"486.36","end_time":"488.64","sentance":"Pour consulter nos bases de données sur nos valeurs clés."},{"start_time":"489.29","end_time":"502.73","sentance":"Les données de valeur clé sont celles qui utilisent cette méthode simple pour stocker et récupérer des données. Leur point fort réside dans leur conception qui consiste à partitionner ou à partager des données de manière importante, puis à les stocker physiquement en fonction de cette clé de partition."},{"start_time":"503.34","end_time":"512.16","sentance":"Cette conception lui permet de s'adapter horizontalement à pratiquement n'importe quelle taille tout en nous offrant des temps de réponse constants, quelle que soit l'échelle."},{"start_time":"514.06","end_time":"524.38","sentance":"Passons donc en revue un cas d'utilisation d'un jeu en ligne qui doit stocker les données de session d'un utilisateur et qui possède un modèle d'accès défini via une balise de joueur pour récupérer cet ensemble de données."},{"start_time":"524.95","end_time":"533.81","sentance":"Comme il s'agit d'un jeu en ligne, nous voulons garantir une expérience cohérente au joueur, qu'il y ait 10 ou même 100 000 utilisateurs."},{"start_time":"533.81","end_time":"544.29","sentance":"Si le jeu prend son envol dans ce cas d'utilisation particulier, nous utiliserons une base de données de valeurs clés pour obtenir des temps de réponse cohérents, indépendamment de la croissance de l'application."},{"start_time":"545.94","end_time":"551.28","sentance":"Amazon Dynamodb est une base de données spécialisée que nous pouvons choisir pour nos bases de données à valeurs clés."},{"start_time":"551.94","end_time":"575.12","sentance":"Il est entièrement géré et sans serveur, ce qui signifie qu'il se chargera de tous les logiciels de provisionnement, de correctifs, de sécurité et, pour nous aider à dimensionner automatiquement, dynamodb nous permet de créer des applications capables de fournir des temps de réponse à une milliseconde à grande échelle et pour nos applications critiques que nous pourrions utiliser à l'échelle mondiale réplication pour répliquer nos ensembles de données dans plusieurs régions."},{"start_time":"577.54","end_time":"589.21","sentance":"Une catégorie très populaire parmi mes clients concerne les bases de données en mémoire. Les bases de données en mémoire stockent nos données en mémoire plutôt que sur celle-ci, ce qui nous donne des temps de réponse inférieurs à la milliseconde."},{"start_time":"589.22","end_time":"597.52","sentance":"Et c'est idéal pour les cas d'utilisation visant à stocker les données de session d'un utilisateur, à maintenir un classement pour les jeux en ligne ou à former des modèles d'apprentissage automatique."},{"start_time":"598.1","end_time":"604.7","sentance":"Mais le cas d'utilisation le plus courant que j'ai vu chez mes clients est de placer de l'argent ici sous forme d'argent devant nos bases de données relationnelles."},{"start_time":"605.03","end_time":"623.94","sentance":"Cela nous donnera des temps de réponse bien meilleurs pour nos utilisateurs finaux et atténuera les pressions d'échelle en lecture sur la base de données relationnelle sous-jacente, ce qui peut entraîner des problèmes de blocage des ressources et de stabilité, que Makayla vous montrera dans sa démonstration suivante sur les bases de données en mémoire."},{"start_time":"623.95","end_time":"626.0","sentance":"Nous avons le choix entre Amazon Elastic Cache."},{"start_time":"626.69","end_time":"633.48","sentance":"Il s'agit d'un service entièrement géré qui nous permet de fournir des temps de réponse inférieurs à la milliseconde et une mise à l'échelle sans interruption."},{"start_time":"633.49","end_time":"635.72","sentance":"Il est à la fois compatible avec le cache mémoire."},{"start_time":"635.72","end_time":"655.85","sentance":"DM Reedus et les personnes qui l'utilisaient pour le cache mém l'utiliseront généralement pour créer des couches de cations simples et évolutives pour leurs applications sensibles à la latence, tandis que nos utilisateurs de Reddit l'utiliseront pour des cas d'utilisation plus polyvalents, tels que pour leurs jeux, leurs analyses en temps réel et leur apprentissage automatique avec Regis."},{"start_time":"655.86","end_time":"662.39","sentance":"Nous avons également le choix entre Amazon Memory Day Bay, un cluster entièrement géré et durable."},{"start_time":"663.2","end_time":"676.91","sentance":"Le débat sur la mémoire nous fournit des performances ultrarapides et une compatibilité totale avec Regis open source, ce qui nous permet ensuite d'utiliser toutes ces structures de données riches, telles que des ensembles triés pour les classements en ligne en tirant parti."},{"start_time":"676.91","end_time":"680.39","sentance":"Un journal des transactions distribué entre les zones de disponibilité."},{"start_time":"680.46","end_time":"691.34","sentance":"Memory DB nous permet de restaurer rapidement la base de données et de redémarrer sans risque de perte de données, ce qui signifie que nous pouvons désormais l'utiliser comme base de données principale pour les ensembles de données persistants."},{"start_time":"692.87","end_time":"702.23","sentance":"Maintenant que nous comprenons la nécessité et les avantages d'une architecture de base de données découplée et que nous avons examiné certains cas d'utilisation résolus par des bases de données spécialement conçues."},{"start_time":"702.24","end_time":"709.41","sentance":"J'aimerais vous présenter Michaeli qui a mis tout cela en pratique sous la forme d'une manifestation en l'honneur de Michael."},{"start_time":"711.27","end_time":"712.08","sentance":"Merci William."},{"start_time":"712.81","end_time":"740.11","sentance":"Dans cette démo, nous allons examiner des animaux de compagnie géniaux, awesome pets est une entreprise fictive et dans ce scénario inventé, awesome pets est une animalerie en ligne, awesome pets possède toutes les caractéristiques d'une boutique de commerce électronique où vous pouvez parcourir le catalogue, ajouter des articles au panier et découvrir des animaux de compagnie actuellement géniaux tech stack se compose d'un back-end monolithique existant et d'un système monolithique."},{"start_time":"740.11","end_time":"741.28","sentance":"Ma base de données de suites."},{"start_time":"742.4","end_time":"748.1","sentance":"Cette application monolithique intègre toutes les fonctionnalités et fonctionnalités d'un animal de compagnie génial."},{"start_time":"749.92","end_time":"753.79","sentance":"Les animaux de compagnie géniaux font face à de nombreux défis avec leurs monolithes hérités."},{"start_time":"753.91","end_time":"760.04","sentance":"Tout d'abord, ils ont découvert que certaines requêtes sont extrêmement lentes, en particulier en cas de charge élevée."},{"start_time":"760.9","end_time":"770.97","sentance":"Ensuite, chaque requête devenant de plus en plus lente pendant les pics de trafic, les demandes des utilisateurs échouent et les utilisateurs ne peuvent pas effectuer de transactions."},{"start_time":"772.58","end_time":"780.77","sentance":"Enfin, la base de données est à court de ressources et de Seigneur, ce qui peut provoquer le blocage de la base de données et l'indisponibilité de l'ensemble de l'application."},{"start_time":"782.57","end_time":"785.59","sentance":"Si vous essayez également de faire évoluer des applications monolithiques."},{"start_time":"785.6","end_time":"788.29","sentance":"Ces défis peuvent vous sembler très familiers."},{"start_time":"790.26","end_time":"797.07","sentance":"Maintenant, je vais vous montrer comment fonctionne l'ancienne application Awesome Pets en exécutant un simple test."},{"start_time":"798.06","end_time":"804.0","sentance":"Ensuite, je vais vous montrer comment des animaux de compagnie géniaux peuvent être découplés grâce à des microservices et à des bases de données spécialement conçues."},{"start_time":"804.58","end_time":"814.14","sentance":"Comment choisir la bonne base de données pour la bonne tâche et vous montrer les différences de performances entre l'application monolithique existante et l'application de microservices."},{"start_time":"815.77","end_time":"819.92","sentance":"Enfin, j'aborderai brièvement certains des modèles de conception utilisés dans la nouvelle architecture."},{"start_time":"821.94","end_time":"825.96","sentance":"Permettez-moi de commencer par vous montrer un exemple de parcours utilisateur sur des animaux de compagnie géniaux."},{"start_time":"826.85","end_time":"829.38","sentance":"Comme vous pouvez le voir ici lorsque je visite des animaux de compagnie géniaux."},{"start_time":"829.39","end_time":"831.31","sentance":"On me présente le catalogue des animaux de compagnie."},{"start_time":"832.05","end_time":"836.72","sentance":"Le catalogue indique les types d'animaux de compagnie disponibles dans les commentaires et rend compte de chaque type."},{"start_time":"838.09","end_time":"847.36","sentance":"Je peux ajouter des animaux de compagnie au panier en cliquant sur le bouton Ajouter au panier. Une fois que j'ai ajouté tous les animaux de compagnie, je peux regarder la carte et passer à la caisse."},{"start_time":"849.15","end_time":"850.28","sentance":"Sur la page de paiement."},{"start_time":"850.29","end_time":"861.72","sentance":"Je peux saisir toutes les informations nécessaires pour terminer la transaction et confirmer le paiement et, une fois le message de confirmation affiché, le parcours utilisateur est terminé."},{"start_time":"863.53","end_time":"867.89","sentance":"Exécutons maintenant le test de charge pour voir comment l'application monolithique fonctionne sur la charge."},{"start_time":"869.59","end_time":"874.52","sentance":"De nombreux outils sont disponibles pour effectuer des tests de performance tels que le jmètre ou l'artillerie."},{"start_time":"874.52","end_time":"875.47","sentance":"Pour n'en nommer que quelques-uns."},{"start_time":"875.48","end_time":"878.47","sentance":"Mais pour cette démo, je vais utiliser Blaze Meter."},{"start_time":"879.98","end_time":"889.31","sentance":"Ce test simule un véritable parcours utilisateur sur des animaux de compagnie géniaux, où chaque utilisateur reçoit un catalogue d'un article au panier et en soumet un autre."},{"start_time":"892.87","end_time":"905.71","sentance":"Ce test est configuré avec un total de 50 utilisateurs simultanés naviguant dans le trajet pendant une durée de 10 minutes et le nombre d'utilisateurs augmentera progressivement sur une durée d'une minute."},{"start_time":"907.16","end_time":"911.18","sentance":"Enfin, ce test se déroulera dans la région AWS Oregon."},{"start_time":"912.54","end_time":"922.79","sentance":"Je vais maintenant commencer le test de charge et comme le test dure environ 10 minutes, je vais accélérer la vidéo et nous examinerons les résultats une fois le test terminé."},{"start_time":"923.64","end_time":"930.38","sentance":"Le test est maintenant terminé et nous pouvons regarder les résultats sur ces écrans, nous avons deux graphiques."},{"start_time":"930.59","end_time":"937.01","sentance":"Celui de gauche indique le nombre de demandes réussies pendant la durée du test et le nombre de demandes ayant échoué."},{"start_time":"937.81","end_time":"942.87","sentance":"Et le graphique de droite affiche le temps de réponse moyen pendant la durée du test."},{"start_time":"944.43","end_time":"956.4","sentance":"Si nous nous concentrons sur le graphique de droite, nous pouvons constater qu'à mesure que le nombre d'utilisateurs augmente, le temps de réponse moyen de l'application ne cesse d'augmenter, atteignant un temps de réponse maximal d'environ sept secondes."},{"start_time":"957.4","end_time":"967.52","sentance":"Et à un moment donné, les temps de réponse ont chuté de façon drastique à quelques centaines de millisecondes seulement et après quelques minutes, le temps de réponse remonte à sept secondes."},{"start_time":"969.66","end_time":"976.14","sentance":"Si nous regardons le graphique de gauche, nous voyons clairement pourquoi il y a une baisse du temps de réponse vers 1750."},{"start_time":"976.23","end_time":"983.68","sentance":"Nous pouvons constater qu'à l'heure actuelle, presque toutes les demandes échouent et qu'aucune demande n'aboutit."},{"start_time":"984.59","end_time":"990.26","sentance":"Cela nous indique que le site Web était en panne pendant cette période et que la demande de l'utilisateur a échoué très rapidement."},{"start_time":"991.24","end_time":"995.5","sentance":"Allons donc un peu plus loin pour voir la cause de ces problèmes ici."},{"start_time":"995.5","end_time":"1003.95","sentance":"J'utilise AWS X ray, un service de suivi qui permet d'analyser plus en détail la demande ayant échoué à partir de la carte du service X Ray."},{"start_time":"1003.96","end_time":"1008.1","sentance":"Je peux voir mon application monolithique et les requêtes envoyées à la base de données."},{"start_time":"1009.02","end_time":"1014.06","sentance":"La couleur rouge représente ici le nombre de requêtes qui ont échoué dans la base de données."},{"start_time":"1015.9","end_time":"1027.48","sentance":"Je vais donc maintenant utiliser X Ray Insights, AWS X Ray Insights identifie où se produisent les problèmes dans les applications, les enregistrements de chaque problème et l'impact associé."},{"start_time":"1028.57","end_time":"1040.56","sentance":"Et lorsque j'ouvre un aperçu, je peux voir immédiatement quelle est la cause première du problème et l'impact qu'il a. Dans ce cas, cela me dit que 23 % de la demande a échoué dans la base de données."},{"start_time":"1041.45","end_time":"1047.09","sentance":"Je peux ensuite cliquer sur Analyser les informations pour accéder à chaque demande ayant échoué."},{"start_time":"1047.75","end_time":"1057.14","sentance":"Une fois que j'ai ouvert une demande qui a échoué, je peux voir tous les composants qui ont été exécutés pour cette demande ainsi que la durée de chacun d'entre eux."},{"start_time":"1058.23","end_time":"1063.93","sentance":"Dans ce cas précis, la base de données a renvoyé une erreur au bout de 17 secondes en raison d'un blocage."},{"start_time":"1063.94","end_time":"1068.98","sentance":"Enfin, examinons les mesures basées sur les données pour comprendre plus en détail ce qui s'est passé."},{"start_time":"1068.99","end_time":"1090.64","sentance":"Si nous nous concentrons sur l'utilisation du processeur, nous pouvons constater que l'utilisation du processeur de la base de données atteint 100 % très rapidement et qu'après quelques minutes d'utilisation continue du processeur à 100 %, l'utilisation de l'adresse IP de la base de données revient à 0 %, puis elle revient à 100 %."},{"start_time":"1091.61","end_time":"1096.74","sentance":"Cela est dû au fait que la base de données se bloque et redémarre en raison d'une utilisation élevée du processeur."},{"start_time":"1097.93","end_time":"1102.53","sentance":"Vous pouvez également le valider en examinant d'autres indicateurs tels que right I."},{"start_time":"1102.53","end_time":"1104.61","sentance":"Opérations et connexions à la base de données."},{"start_time":"1105.74","end_time":"1123.21","sentance":"Comme nous l'avons vu, cette ancienne application ne fonctionne pas bien, les requêtes peuvent prendre jusqu'à 10 secondes pendant les pics de trafic et les pannes de base de données provoquant des pannes, des animaux de compagnie géniaux pourraient envisager de mettre en œuvre de nombreuses optimisations courantes pour les applications monolithiques."},{"start_time":"1123.81","end_time":"1134.78","sentance":"Cependant, ils prévoient de multiplier leur croissance par 10 au cours de la prochaine année et ils savent que même avec des optimisations communes pour les applications monolithiques, ils ne seront pas en mesure de soutenir la croissance prévue."},{"start_time":"1135.67","end_time":"1140.94","sentance":"C'est pourquoi des animaux géniaux ont décidé de passer aux microservices avec des bases de données spécialement conçues."},{"start_time":"1142.52","end_time":"1161.44","sentance":"Essayons donc de comprendre comment ils décomposent cette application, comment ils ont décidé quelle base de données utiliser pour chaque cas d'utilisation. Dans cette nouvelle architecture, Awesome Pets est divisé en quatre microservices, le panier de commande d'inventaire et le catalogue de l'inventaire."},{"start_time":"1161.44","end_time":"1163.76","sentance":"Le service Micro utilise dynamodb."},{"start_time":"1164.57","end_time":"1173.05","sentance":"Les données d'inventaire peuvent être stockées dans un format de valeur clé simple et il existe un schéma bien défini, tel que l'ajout ou la suppression d'animaux de compagnie à l'inventaire."},{"start_time":"1175.17","end_time":"1176.78","sentance":"Ensuite, nous avons l'ancien traitement."},{"start_time":"1177.37","end_time":"1183.19","sentance":"Ce cas d'utilisation nécessite la cohérence des données et stocke les données dans un format relationnel dénormalisé."},{"start_time":"1184.03","end_time":"1190.69","sentance":"Certaines des logiques précédentes peuvent également être réutilisées et c'est pourquoi elle convient parfaitement à une Amazon Aurora compatible avec ma suite."},{"start_time":"1192.44","end_time":"1194.23","sentance":"Ensuite, nous avons les microservices de distribution."},{"start_time":"1194.78","end_time":"1198.96","sentance":"La fonctionnalité de casting est la deuxième fonctionnalité la plus utilisée sur Awesome Pet."},{"start_time":"1199.8","end_time":"1209.3","sentance":"Il comporte un volume élevé de lectures et d'écritures et les temps de réponse nécessaires devraient être de sept millisecondes, comme vous vous en souvenez peut-être lors de la session Williams."},{"start_time":"1209.31","end_time":"1214.29","sentance":"Il s'agit d'un excellent cas d'utilisation pour une base de données en mémoire telle que celle de Brady sur Elastic Cache."},{"start_time":"1216.4","end_time":"1229.37","sentance":"Enfin, nous avons le catalogue, le catalogue actuel, interroge tout l'inventaire disponible et gère un compte en fonction du type d'animal de compagnie, car Awesome Pets utilise une base de données relationnelle."},{"start_time":"1229.38","end_time":"1239.2","sentance":"Ils ne sont actuellement pas en mesure de fournir des fonctionnalités de recherche complètes et, par conséquent, l'une des technologies qu'ils peuvent utiliser pour le catalogue est le service Amazon Open Search."},{"start_time":"1240.43","end_time":"1245.01","sentance":"La recherche ouverte permet d'assimiler facilement des recherches et d'agréger des milliards de documents."},{"start_time":"1246.81","end_time":"1257.01","sentance":"Maintenant que nous avons vu à quoi ressemble l'architecture cible, effectuons un autre test de performance pour voir comment fonctionne la nouvelle architecture. Comme vous pouvez le constater, je peux ajouter les paramètres au U."},{"start_time":"1257.01","end_time":"1257.15","sentance":"R."},{"start_time":"1257.15","end_time":"1257.49","sentance":"L."},{"start_time":"1257.75","end_time":"1270.6","sentance":"Pour commencer à utiliser le backend des microservices et dans ces derniers, j'ai à peu près le même nombre d'animaux de compagnie, sinon plus, par rapport à l'application monolithique et les fonctionnalités sont exactement les mêmes."},{"start_time":"1271.38","end_time":"1274.8","sentance":"Je peux donc commencer et lancer le test pour mon back-end de microservices."},{"start_time":"1275.76","end_time":"1282.36","sentance":"Comme vous pouvez le constater, le test de performance est identique à la même configuration que le test précédent et le parcours utilisateur est le même."},{"start_time":"1282.36","end_time":"1286.69","sentance":"Nous obtenons le catalogue, ajoutons une carte et soumettons une commande."},{"start_time":"1288.15","end_time":"1296.06","sentance":"Et la configuration est également la même avec 50 utilisateurs au total pour une durée maximale de 10 minutes et avec une augmentation d'une minute."},{"start_time":"1298.4","end_time":"1301.98","sentance":"Alors allons-y, lançons ce nouveau test et examinons les résultats."},{"start_time":"1301.98","end_time":"1303.31","sentance":"Une fois le test terminé."},{"start_time":"1304.45","end_time":"1308.02","sentance":"Comme avant, je vais accélérer cette partie de la vidéo jusqu'à la fin du test."},{"start_time":"1310.01","end_time":"1312.93","sentance":"Jetons un coup d'œil à ces résultats."},{"start_time":"1312.94","end_time":"1319.25","sentance":"Nous pouvons déjà constater que les performances sont beaucoup plus constantes qu'il n'y a eu aucune erreur lors du test de performance."},{"start_time":"1319.38","end_time":"1327.35","sentance":"Et dans l'ensemble, le temps de réponse moyen est d'environ 160 millisecondes, soit 45 fois plus rapide que notre application monolithique."},{"start_time":"1329.43","end_time":"1337.66","sentance":"Jetons donc un coup d'œil à la radiographie et nous pouvons voir ici toutes les interactions entre les microservices."},{"start_time":"1339.22","end_time":"1345.4","sentance":"Par exemple, nous pouvons voir comment la fonctionnalité d'envoi de toutes les fonctionnalités couvre réellement plusieurs microservices."},{"start_time":"1347.61","end_time":"1352.05","sentance":"Et ici, nous pouvons voir les appels d'API pour obtenir le catalogue et ajouter des articles au panier."},{"start_time":"1352.87","end_time":"1367.97","sentance":"Je peux maintenant examiner des traces spécifiques pour approfondir une seule demande de commande. Ici, nous pouvons voir la répartition du temps passé pendant la durée de l'envoi ou de la transaction."},{"start_time":"1368.88","end_time":"1370.32","sentance":"On peut le voir sous charge."},{"start_time":"1370.33","end_time":"1391.36","sentance":"Cette opération n'a pris qu'environ 300 millisecondes, soit 25 fois plus rapidement que la soumission à la fonctionnalité de l'application monolithique dans les mêmes conditions. Dans la démo, nous avons vu comment l'architecture des microservices est capable de bien évoluer pour faire face au trafic et fournir des temps de réponse cohérents."},{"start_time":"1392.12","end_time":"1397.76","sentance":"Une autre caractéristique de cette nouvelle architecture est qu'elle permet d'obtenir une disponibilité bien supérieure."},{"start_time":"1397.77","end_time":"1407.68","sentance":"Si l'une des bases de données tombe en panne, un seul des microservices est affecté et l'application peut encore fonctionner partiellement en passant aux microservices."},{"start_time":"1407.69","end_time":"1412.96","sentance":"Non seulement nous pouvons nous adapter et améliorer nos performances, mais nous pouvons également bénéficier d'une plus grande disponibilité."},{"start_time":"1414.58","end_time":"1419.4","sentance":"Enfin, j'aimerais mentionner brièvement les motifs de conception qui ont été utilisés dans cette composition."},{"start_time":"1420.31","end_time":"1424.11","sentance":"La première est la notification des événements dans cette nouvelle architecture."},{"start_time":"1424.26","end_time":"1430.55","sentance":"Le microservice du catalogue doit être mis à jour chaque fois qu'un article est ajouté ou retiré de l'inventaire."},{"start_time":"1431.46","end_time":"1440.76","sentance":"Pour implémenter ce modèle, nous utilisons les flux de dynamodb, qui est une fonctionnalité de dynamodb qui vous permet de diffuser chaque modification sur la table."},{"start_time":"1441.82","end_time":"1443.94","sentance":"Le deuxième modèle est le modèle saga."},{"start_time":"1444.5","end_time":"1450.26","sentance":"Ce modèle nous permet d'exécuter des transactions commerciales sur plusieurs microservices."},{"start_time":"1451.04","end_time":"1462.64","sentance":"Dans cet exemple, le modèle de cycle a été implémenté à l'aide des fonctions d'étape AWS et la transaction couvre l'inventaire, la commande et les microservices cat."},{"start_time":"1464.23","end_time":"1467.26","sentance":"Si vous souhaitez en savoir plus sur les modèles de microservices."},{"start_time":"1467.72","end_time":"1479.36","sentance":"Je vous recommande de regarder la session intitulée Créer des microservices brésiliens à l'aide de modèles tolérants aux pannes. Au cours de cette session, nous avons examiné les exigences des applications modernes d'aujourd'hui."},{"start_time":"1480.06","end_time":"1485.62","sentance":"Nous avons ensuite étudié les raisons pour lesquelles les clients sont passés d'une approche universelle à des bases de données conçues à cet effet."},{"start_time":"1486.62","end_time":"1495.88","sentance":"Nous avons examiné comment vous pouvez choisir la bonne base de données pour la bonne tâche et nous avons vu comment elle peut vous aider à atteindre une plus grande échelle, de meilleures performances et une plus grande disponibilité."},{"start_time":"1497.9","end_time":"1503.12","sentance":"Nous avons abordé un certain nombre de sujets différents au cours de cette session, mais l'apprentissage ne doit pas s'arrêter là."},{"start_time":"1503.13","end_time":"1507.01","sentance":"Nous vous encourageons à consulter notre contenu de formation et de certification."},{"start_time":"1507.7","end_time":"1515.5","sentance":"Nous proposons plus de 500 cours numériques gratuits qui peuvent vous aider, vous et votre équipe, à acquérir de nouvelles compétences en matière de cloud et à découvrir les derniers services."},{"start_time":"1516.36","end_time":"1521.85","sentance":"Et au fur et à mesure que vous développez vos compétences, pensez à vous préparer à l'une de nos 11 certifications AWS."},{"start_time":"1523.1","end_time":"1526.14","sentance":"Vous pouvez scanner les codes QR de cette diapositive pour en savoir plus."},{"start_time":"1527.89","end_time":"1529.57","sentance":"Merci d'avoir assisté à cette conférence."},{"start_time":"1529.58","end_time":"1534.39","sentance":"Nous aimerions connaître vos commentaires pour nous aider à améliorer l'expérience du sommet AWS."},{"start_time":"1534.4","end_time":"1537.5","sentance":"N'oubliez donc pas de répondre à l'enquête de session."},{"start_time":"1537.51","end_time":"21.56","sentance":"Thank you Hello and welcome to choose the right database for modern applications as part of our added West Summit online series ."},{"start_time":"21.57","end_time":"25.3","sentance":"My name is William Wong and I'm a specialist database solutions architect ."},{"start_time":"25.31","end_time":"30.19","sentance":"And today I'll be joined by Michael Riccardi , who's our specialist development solutions architect ."},{"start_time":"31.76","end_time":"32.18","sentance":"Today ."},{"start_time":"32.18","end_time":"45.42","sentance":"We're really excited to be here to show you how purpose built databases could be used to improve the scale performance and availability of your applications for our agenda will have an introduction of the requirements from a modern day applications ."},{"start_time":"45.43","end_time":"55.91","sentance":"Will then look at the challenges that are solved using microservices and purpose built databases Before looking at how we can go about picking up the right databases for your particular workloads ."},{"start_time":"56.34","end_time":"56.77","sentance":"Michael ."},{"start_time":"56.77","end_time":"67.25","sentance":"We will then dive a bit deeper where he'll modernize an app from a monolithic relational database stack to that of using purpose built databases and show you the differences in both performance and scale ."},{"start_time":"67.26","end_time":"70.22","sentance":"So let's get started and look at the requirements from our modern apps ."},{"start_time":"70.85","end_time":"77.59","sentance":"And we first look at the apps that we each use every day like our ride sharing , media , streaming , banking , gaming and social media ."},{"start_time":"77.6","end_time":"79.89","sentance":"We begin to see some common patterns ."},{"start_time":"79.9","end_time":"84.5","sentance":"These patterns could be millions of users accessing our apps across different geographies ."},{"start_time":"84.51","end_time":"92.6","sentance":"And these same users are expecting instant experiences which could boil down to consistent millisecond or even sub millisecond response times ."},{"start_time":"93.24","end_time":"100.7","sentance":"Our apps will need to hyper scale to meet demands for events such as our flash sales or urine processing and then scale back down ."},{"start_time":"100.7","end_time":"103.15","sentance":"We're not in use so that we can minimize costs ."},{"start_time":"104.21","end_time":"110.5","sentance":"It is anticipated that will capture more data in the next three years than that of the last 30 years ."},{"start_time":"110.62","end_time":"114.35","sentance":"And this will need specialized tools to process the petabytes ."},{"start_time":"114.36","end_time":"117.46","sentance":"If not zero bytes worth of structured and unstructured data ."},{"start_time":"118.46","end_time":"126.08","sentance":"If we take some time now and think about the architectural patterns of most of these cloud base apps , you'll find that they are all microservices ."},{"start_time":"126.74","end_time":"130.98","sentance":"That means they are highly distributed , loosely coupled and accessed via a P ."},{"start_time":"130.98","end_time":"131.08","sentance":"I ."},{"start_time":"131.08","end_time":"131.37","sentance":"S ."},{"start_time":"132.27","end_time":"138.93","sentance":"So what does that change in architecture mean to our underlying database As our apps are now decoupled into services ."},{"start_time":"138.94","end_time":"142.9","sentance":"It allows each of these services to have its own independent database ."},{"start_time":"142.91","end_time":"154.35","sentance":"And that'll bring us a lot of advantages , for example , will give us the ability to hyper scale our applications as each service and database canal scale independently ."},{"start_time":"155.11","end_time":"157.17","sentance":"Let's take black friday as a use case ."},{"start_time":"157.18","end_time":"167.7","sentance":"We might need to scale our catalog and payment service to hundreds of thousands of concurrent requests over a short time frame but our user registrations may not grow to that same degree ."},{"start_time":"169.34","end_time":"171.39","sentance":"Another benefit is the added agility ."},{"start_time":"171.69","end_time":"175.13","sentance":"Since we can now innovate faster across different components ."},{"start_time":"175.91","end_time":"185.12","sentance":"We can quickly test and roll back new builds and features on a modular level without dealing with all the complex coupled dependencies which are related to monoliths ."},{"start_time":"186.89","end_time":"204.22","sentance":"A common business challenge is making our apps more available and by decoupling our databases , it will increase its overall availability since we no longer have a monolithic database which serves as that single point of contention for our events such as code deployments or upgrades and patches ."},{"start_time":"204.23","end_time":"207.17","sentance":"So now that we understand the advantages of decoupling our data ."},{"start_time":"207.17","end_time":"211.76","sentance":"T why would we consider purpose built databases for our microservices ?"},{"start_time":"212.77","end_time":"218.51","sentance":"Our developers want the right database to meet the needs of our modern applications as we described earlier ."},{"start_time":"218.52","end_time":"225.66","sentance":"And frankly that one size fits all approach of using a relational database for everything , just no longer works ."},{"start_time":"225.8","end_time":"237.79","sentance":"For example , we might need a database to provide microsecond latency response times so that we can quickly render our websites or to deliver consistent response times to cater for a surgeon user demands ."},{"start_time":"237.8","end_time":"242.23","sentance":"And the relational architecture is not the best fit for these particular use cases ."},{"start_time":"242.77","end_time":"253.51","sentance":"In fact , by not using the right database will typically lead to performance issues , lack of scalability , lack of developer flexibility and an increase to our overall costs ."},{"start_time":"255.29","end_time":"264.03","sentance":"So traditionally , when I talk to my customers a barrier for adopting these purpose built databases with a potential operational overheads ."},{"start_time":"264.04","end_time":"272.06","sentance":"And this included investments in upfront hardware and software or expertise to make them scalable , highly available and performant ."},{"start_time":"272.66","end_time":"274.56","sentance":"And this is where aws comes in ."},{"start_time":"274.57","end_time":"293.05","sentance":"We'll offer the broadest and deepest portfolio of 15 plus purpose built databases that can support the different data models by leveraging , purpose built and fully managed databases that we built from the ground up customers can now save time and costs , improve performance at scale and innovate faster ."},{"start_time":"293.62","end_time":"305.71","sentance":"We have purpose built databases to match every use case like relational key value document in memory , wide column time series ledger and our graph databases ."},{"start_time":"307.63","end_time":"315.4","sentance":"So now that we understand the need for purpose built databases , how then would you go about selecting the right databases for your particular use cases ?"},{"start_time":"316.14","end_time":"324.65","sentance":"What I'd like to tell people is instead of looking at a list of 100 different databases , why don't we start off by thinking about common database categories ?"},{"start_time":"325.3","end_time":"328.5","sentance":"So now we quickly look across the categories ."},{"start_time":"328.51","end_time":"342.2","sentance":"Not only would you find that familiar relational database there on the left , but you'll also see other databases , databases like our amazon document DB which is optimized for storing the data in Jason format ."},{"start_time":"342.8","end_time":"353.05","sentance":"And since it's a no sequel database , it will give us that flexibility around changing application schemers but it will also allow us to query documents based on any attribute ."},{"start_time":"353.06","end_time":"364.16","sentance":"And this is really handy for our content management or mobile apps or a graph database like amazon Neptune , which then allows us to work with highly connected data sets ."},{"start_time":"364.78","end_time":"377.15","sentance":"We can try to model this out in a relational database with complicated joints and nested queries but our latency is will grow as a number of our relationships increase in graph databases ."},{"start_time":"377.15","end_time":"386.34","sentance":"However , it allows us to traverse millions of relationships in seconds , which is great for fraud detection , social media and our recommendation engines ."},{"start_time":"387.53","end_time":"403.91","sentance":"Well lastly like a time series database like our amazon time stream which is optimized to ingest trillions of time sequence data a day as well as giving us time based functions such as correlation and interpolation so that we can gain better insights from that data ."},{"start_time":"403.97","end_time":"408.23","sentance":"And this is great for our IOT devops or event tracking apps ."},{"start_time":"409.29","end_time":"415.28","sentance":"Let's take some time now to dive a little further into some very common categories that I've seen amongst my customers ."},{"start_time":"416.96","end_time":"440.76","sentance":"Let's start off with a really familiar relational data model , relational data is highly structured and the data is broken up into tables and the relationships enforced by the system are primary and referential keys and good use cases for them will be workloads where we can't predefined all our access patterns up front or if we had apps that requires high referential integrity and strong consistency ."},{"start_time":"440.77","end_time":"442.86","sentance":"Like for our online payment systems ."},{"start_time":"443.59","end_time":"447.98","sentance":"A cloud native database we could choose for our relational models is amazon Arora ."},{"start_time":"447.99","end_time":"457.12","sentance":"Arora is compatible with both my sequel and Postgres and can help us enhance our performance by providing up to five times more throughput than that of standard ."},{"start_time":"457.12","end_time":"460.58","sentance":"My sequel and three times more than that of standard Postgres ."},{"start_time":"460.66","end_time":"469.84","sentance":"It will help us automatically scale both compute and storage resources and we drew billy store our data six ways across three availability zones ."},{"start_time":"470.38","end_time":"483.07","sentance":"And since it's a managed service will provide for automation for tasks such as deployment and provisioning regular patching and upgrades , backups and give us security features like encryption in transit and at rest ."},{"start_time":"485.16","end_time":"486.36","sentance":"Another great category ."},{"start_time":"486.36","end_time":"488.64","sentance":"To look at our our key value databases ."},{"start_time":"489.29","end_time":"502.73","sentance":"Key value data is one that uses that simple key value method to store and retrieve data and its strength lies behind its design to highly partition or shard data and then physically store it based on that partition key ."},{"start_time":"503.34","end_time":"512.16","sentance":"That design allows it to horizontally scale to virtually any size while still giving us consistent response times , irrespective of scale ."},{"start_time":"514.06","end_time":"524.38","sentance":"So let's go through a use case for an online game that needs to store a user's session data and has a defined access pattern through gamer tag for retrieving that data set ."},{"start_time":"524.95","end_time":"533.81","sentance":"Since it's an online game , we want to ensure a consistent experience back to the gamer irrespective of if there were 10 or even 100,000 users ."},{"start_time":"533.81","end_time":"544.29","sentance":"If the game takes off in this particular use case , we'll use a key value database to achieve consistent response times , irrespective of the growth of the application ."},{"start_time":"545.94","end_time":"551.28","sentance":"A purpose built database we could choose for our key value databases is amazon dynamodb ."},{"start_time":"551.94","end_time":"575.12","sentance":"It is fully managed and serverless , meaning that it will take care of all the provisioning software , patching security and to help us automatically scale dynamodb enables us to build apps that can provide for single digit millisecond response times at scale and for our mission critical apps we could use global replication to replicate our data sets across multiple regions ."},{"start_time":"577.54","end_time":"589.21","sentance":"A really popular category amongst my customers are in memory databases In memory databases will store our data in memory rather than on this , which then gives us sub millisecond response times ."},{"start_time":"589.22","end_time":"597.52","sentance":"And that is great for use cases to store a user session data on maintaining a leaderboard for online games or training machine learning models ."},{"start_time":"598.1","end_time":"604.7","sentance":"But the most common use case that I've seen amongst my customers is placed here as a cash in front of our relational databases ."},{"start_time":"605.03","end_time":"623.94","sentance":"This will give us much better response times to our end users and alleviates read scaling pressures on the underlying relational database which can lead to locking resource contention and stability issues , which Makayla will show you in his subsequent demonstration for in memory databases ."},{"start_time":"623.95","end_time":"626.0","sentance":"We have the choice of amazon elastic cache ."},{"start_time":"626.69","end_time":"633.48","sentance":"It is fully managed service that allows us to provide for sub millisecond response times and non disruptive scaling ."},{"start_time":"633.49","end_time":"635.72","sentance":"It is both compatible with mem cache ."},{"start_time":"635.72","end_time":"655.85","sentance":"DM Reedus and people were using it for mem cache will typically use it to build simple scaling cation layers for their latency sensitive apps whereas our Reddit users , they'll use it for more versatile use cases like for their gaming real time analytics and machine learning with regis ."},{"start_time":"655.86","end_time":"662.39","sentance":"We also have the choice of amazon Memory Day bay which is a fully managed cluster with durability ."},{"start_time":"663.2","end_time":"676.91","sentance":"Memory debate provides us with ultrafast performance with full compatibility with open source regis which then allows us to use all of this is rich data structures such as sorted sets for online leaderboards by leveraging ."},{"start_time":"676.91","end_time":"680.39","sentance":"A distributed transaction log across availability zones ."},{"start_time":"680.46","end_time":"691.34","sentance":"Memory DB provides us with fast database recovery and restarts without the risk of data loss , meaning that we can now use this as our primary database for persistent data sets ."},{"start_time":"692.87","end_time":"702.23","sentance":"So now that we understand the need and benefits of a decoupled database architecture and have gone through some use cases that particular purpose built databases solves ."},{"start_time":"702.24","end_time":"709.41","sentance":"I'd like to introduce you to Michaeli who put all this into action in the form of a demonstration over to Michael ."},{"start_time":"711.27","end_time":"712.08","sentance":"Thank you William ."},{"start_time":"712.81","end_time":"740.11","sentance":"In this demo we will look at awesome pets , awesome pets is a fictitious company and in this made up scenario , awesome pets is an online pet store , awesome pets has all of the characteristics of an e commerce store where you can browse the catalog , add items to the basket and check out currently awesome pets tech stack consists of a legacy monolithic back end and a monolithic ."},{"start_time":"740.11","end_time":"741.28","sentance":"My sequel database ."},{"start_time":"742.4","end_time":"748.1","sentance":"This monolithic application powers all the different features and functionality of awesome pets ."},{"start_time":"749.92","end_time":"753.79","sentance":"Awesome pets is facing a number of challenges with their legacy monoliths ."},{"start_time":"753.91","end_time":"760.04","sentance":"First , they have found that some queries are painfully slow , especially in cases of high load ."},{"start_time":"760.9","end_time":"770.97","sentance":"Then , as a result of each query getting slower and slower during peak traffic , user requests are failing and users are unable to complete transactions ."},{"start_time":"772.58","end_time":"780.77","sentance":"Lastly , the database runs out of resources and the Lord which can cause the database to crash and the entire application to be unavailable ."},{"start_time":"782.57","end_time":"785.59","sentance":"If you are also trying to scale monolithic applications ."},{"start_time":"785.6","end_time":"788.29","sentance":"These challenges may sound very familiar to you ."},{"start_time":"790.26","end_time":"797.07","sentance":"So now I will show you how the legacy awesome pets application performs by running a simple test ."},{"start_time":"798.06","end_time":"804.0","sentance":"Then I will show you how awesome pets can be decoupled with microservices and purpose built databases ."},{"start_time":"804.58","end_time":"814.14","sentance":"How to pick the right database for the right job and show you the differences in performance between the legacy monolithic application and microservices application ."},{"start_time":"815.77","end_time":"819.92","sentance":"Lastly , I will briefly touch on some of the design patterns used in the new architecture ."},{"start_time":"821.94","end_time":"825.96","sentance":"Let me start by showing you a sample user journey on awesome pets ."},{"start_time":"826.85","end_time":"829.38","sentance":"As you can see here when I visit awesome pets ."},{"start_time":"829.39","end_time":"831.31","sentance":"I am presented with the pets catalog ."},{"start_time":"832.05","end_time":"836.72","sentance":"The catalog shows the pet types available in the commentary and account for each type ."},{"start_time":"838.09","end_time":"847.36","sentance":"I can add pets to the cart by clicking the add to cart button and once I added all of the pets , I can take a look at the card and proceed to the checkout ."},{"start_time":"849.15","end_time":"850.28","sentance":"In the checkout page ."},{"start_time":"850.29","end_time":"861.72","sentance":"I can enter all the details required to complete the transaction and confirm the payment and once the confirmation message is displayed , user journey is complete ."},{"start_time":"863.53","end_time":"867.89","sentance":"So let's now run the load test to see how the monolithic application performs on the load ."},{"start_time":"869.59","end_time":"874.52","sentance":"There are many tools available to run performance tests such as j meter or artillery ."},{"start_time":"874.52","end_time":"875.47","sentance":"To name a few ."},{"start_time":"875.48","end_time":"878.47","sentance":"But for this demo , I'm going to use blaze meter ."},{"start_time":"879.98","end_time":"889.31","sentance":"This test simulates a real user journey on awesome pets where each user will get a catalog at an item to the cart and submit another ."},{"start_time":"892.87","end_time":"905.71","sentance":"This test is configured with a total of 50 concurrent users navigating through the journey for a duration of 10 minutes And the number of users will ramp up gradually over the duration of one minute ."},{"start_time":"907.16","end_time":"911.18","sentance":"Lastly , this test will run in the aws Oregon region ."},{"start_time":"912.54","end_time":"922.79","sentance":"I will now start the load test and as the test takes about 10 minutes to complete , I will speed up the video and we will take a look at the results once the test is complete ."},{"start_time":"923.64","end_time":"930.38","sentance":"So the test is now complete and we can take a look at the results in these screens , we have two graphs ."},{"start_time":"930.59","end_time":"937.01","sentance":"The one on the left shows how many requests over the duration of the test succeeded and how many requests failed ."},{"start_time":"937.81","end_time":"942.87","sentance":"And the graph on the right displays the average response time over the duration of the test ."},{"start_time":"944.43","end_time":"956.4","sentance":"If we focus on the graph on the right hand side , we can see that as the number of users ramps up , the average response time of the application keeps increasing , reaching a peak response time of about seven seconds ."},{"start_time":"957.4","end_time":"967.52","sentance":"And at some point , the response times dropped drastically to only a few hundreds of milliseconds And after a few minutes , the response time goes back up to seven seconds ."},{"start_time":"969.66","end_time":"976.14","sentance":"If we look at the graph on the left , it's clear why there is a drop in response time at around 1750 ."},{"start_time":"976.23","end_time":"983.68","sentance":"We can see that at this time almost all of the requests fail and there are no successful requests ."},{"start_time":"984.59","end_time":"990.26","sentance":"This tells us that the website was down during that time and the user request was failing very quickly ."},{"start_time":"991.24","end_time":"995.5","sentance":"So let's go a bit deeper to see what's causing these issues here ."},{"start_time":"995.5","end_time":"1003.95","sentance":"I am using AWS X ray which is a tracing service to dive deeper into the failed request from the X ray service map ."},{"start_time":"1003.96","end_time":"1008.1","sentance":"I can see my monolithic application and the requests going to the database ."},{"start_time":"1009.02","end_time":"1014.06","sentance":"The red color here represents the amount of requests that have failed in the database ."},{"start_time":"1015.9","end_time":"1027.48","sentance":"So I'm now going to use X ray insights , AWS x ray insights identifies where in the applications issues are occurring , the records of each issue and the associated impact ."},{"start_time":"1028.57","end_time":"1040.56","sentance":"And when I open an insight I can see immediately what is the root cause of the issue and the impact it's having In this case it's telling me that 23% of the request failed in the database ."},{"start_time":"1041.45","end_time":"1047.09","sentance":"Then I can click on analyze insight to drill down to each individual failed request ."},{"start_time":"1047.75","end_time":"1057.14","sentance":"Once I opened a failed request , I can see all of the components that executed for this request as well as how long each one of them took ."},{"start_time":"1058.23","end_time":"1063.93","sentance":"In this specific case the database returned an error after 17 seconds due to a deadlock ."},{"start_time":"1063.94","end_time":"1068.98","sentance":"Lastly , let's take a look at the data based metrics to understand in more details what happened ."},{"start_time":"1068.99","end_time":"1090.64","sentance":"If we focus on the CPU utilization , we can see that the database CPU utilization spikes up to 100% very quickly and after a few minutes of sustained 100% CPU utilization , the database iP utilization goes back to 0% And then it comes back up to 100% ."},{"start_time":"1091.61","end_time":"1096.74","sentance":"This is because the database crashes and restarts due to high CPU utilization ."},{"start_time":"1097.93","end_time":"1102.53","sentance":"You can also validate this by looking at other metrics such as right I ."},{"start_time":"1102.53","end_time":"1104.61","sentance":"Ops and database connections ."},{"start_time":"1105.74","end_time":"1123.21","sentance":"As we've seen this legacy application does not perform well , requests can take up to 10 seconds during the traffic peaks and the database crashes causing outages awesome pets could look at implementing many of the common optimization for monolithic applications ."},{"start_time":"1123.81","end_time":"1134.78","sentance":"However , they expect to grow 10 times over the next year and they know that even with common optimizations for monolithic applications , they will not be able to support their planned growth ."},{"start_time":"1135.67","end_time":"1140.94","sentance":"This is why awesome pets decided to move to microservices with purpose built databases ."},{"start_time":"1142.52","end_time":"1161.44","sentance":"So let's try to understand how they decompose this application , how they decided which database to use for each use case in this new architecture , awesome pets is split into four microservices , the inventory order cart and catalog the inventory ."},{"start_time":"1161.44","end_time":"1163.76","sentance":"Micro service uses dynamodb ."},{"start_time":"1164.57","end_time":"1173.05","sentance":"The inventory data can be stored in a simple key value format and there is a well defined pattern such as adding or removing pets to the inventory ."},{"start_time":"1175.17","end_time":"1176.78","sentance":"Then we have the older processing ."},{"start_time":"1177.37","end_time":"1183.19","sentance":"This use case requires data consistency and stores data in a de normalized relational format ."},{"start_time":"1184.03","end_time":"1190.69","sentance":"Some of the previous logic can also be reused and this is why it's a great fit for a my sequel compatible amazon aurora ."},{"start_time":"1192.44","end_time":"1194.23","sentance":"Then we have the cast microservices ."},{"start_time":"1194.78","end_time":"1198.96","sentance":"The cast functionality is the second most used functionality on awesome pets ."},{"start_time":"1199.8","end_time":"1209.3","sentance":"It has high volume of reads and writes and the response times needed should be in seven milliseconds as you may remember from Williams session ."},{"start_time":"1209.31","end_time":"1214.29","sentance":"This is a great use case for an in memory database such as brady's on elastic cache ."},{"start_time":"1216.4","end_time":"1229.37","sentance":"And lastly we have the catalog , the catalog at the moment , queries all of the available inventory and performs account based on the pet type because awesome pets utilizes a relational database ."},{"start_time":"1229.38","end_time":"1239.2","sentance":"They are currently not able to provide rich search functionality and therefore one of the technologies that they can use for the catalog is the amazon Open Search service ."},{"start_time":"1240.43","end_time":"1245.01","sentance":"Open search can easily ingest search and aggregate billions of documents ."},{"start_time":"1246.81","end_time":"1257.01","sentance":"So now that we've seen how the target architecture looks like , let's run another performance test to see how the new architecture performs as you can see I can add the parameters to the U ."},{"start_time":"1257.01","end_time":"1257.15","sentance":"R ."},{"start_time":"1257.15","end_time":"1257.49","sentance":"L ."},{"start_time":"1257.75","end_time":"1270.6","sentance":"To start using the microservices back end and in these microservices back end , I have around the same number of pets if not more compared to the monolithic application and the functionality is exactly the same ."},{"start_time":"1271.38","end_time":"1274.8","sentance":"So I can go ahead and open the test for my microservices back end ."},{"start_time":"1275.76","end_time":"1282.36","sentance":"As you can see , the performance test is the same as the same configuration as the previous test and the user journey is the same ."},{"start_time":"1282.36","end_time":"1286.69","sentance":"We're getting the catalog , adding a card and submit an order ."},{"start_time":"1288.15","end_time":"1296.06","sentance":"And also the configuration is the same with 50 total users for up to 10 minutes duration and with among one minute ramp up ."},{"start_time":"1298.4","end_time":"1301.98","sentance":"So let's go ahead and run this new test and take a look at the results ."},{"start_time":"1301.98","end_time":"1303.31","sentance":"Once the test is complete ."},{"start_time":"1304.45","end_time":"1308.02","sentance":"Like before I will speed up this part of the video until the test completes ."},{"start_time":"1310.01","end_time":"1312.93","sentance":"Let's take a look at these results at a glance ."},{"start_time":"1312.94","end_time":"1319.25","sentance":"We can already see that the performance is a lot more consistent that there were no errors during the performance test ."},{"start_time":"1319.38","end_time":"1327.35","sentance":"And overall the average response time is around 160 milliseconds , which is 45 times faster than our monolithic application ."},{"start_time":"1329.43","end_time":"1337.66","sentance":"So let's take a look at the X ray and here we can see all of the interactions between the microservices ."},{"start_time":"1339.22","end_time":"1345.4","sentance":"For example , we can see how the submit all the functionality actually spans multiple microservices ."},{"start_time":"1347.61","end_time":"1352.05","sentance":"And here we can see the api calls for getting the catalog and adding items to the cart ."},{"start_time":"1352.87","end_time":"1367.97","sentance":"I can now look at specific traces to dive deeper on a single submit order request here , we can see the breakdown of where the time was spent for the duration of the submit or the transaction ."},{"start_time":"1368.88","end_time":"1370.32","sentance":"We can see that under load ."},{"start_time":"1370.33","end_time":"1391.36","sentance":"This operation only took about 300 milliseconds , which is 25 times faster that the submit to the functionality in the monolithic application under the same conditions in the demo , we saw how the microservices architecture is able to scale well to cope with the traffic and provide consistent response times ."},{"start_time":"1392.12","end_time":"1397.76","sentance":"Another characteristic of this new architecture is they can achieve much greater availability ."},{"start_time":"1397.77","end_time":"1407.68","sentance":"If one of the databases fails , only one of the microservices is affected and the application can partially still function by moving to microservices ."},{"start_time":"1407.69","end_time":"1412.96","sentance":"Not only we can scale and perform better , but we also gain greater availability ."},{"start_time":"1414.58","end_time":"1419.4","sentance":"Lastly , I'd like to briefly mention to design patterns that were used in this composition ."},{"start_time":"1420.31","end_time":"1424.11","sentance":"The first is event notification in this new architecture ."},{"start_time":"1424.26","end_time":"1430.55","sentance":"The catalog micro service needs to be updated whenever there is an item added or removed from the inventory ."},{"start_time":"1431.46","end_time":"1440.76","sentance":"To implement this pattern , we leverage dynamodb streams , which is a feature of dynamodb that allows you to stream every change on the table ."},{"start_time":"1441.82","end_time":"1443.94","sentance":"The second pattern is the saga pattern ."},{"start_time":"1444.5","end_time":"1450.26","sentance":"This pattern allows us to execute business transactions across multiple microservices ."},{"start_time":"1451.04","end_time":"1462.64","sentance":"In this example , the cycle pattern was implemented using AWS step functions and the transaction spans the inventory , the order and the cat microservices ."},{"start_time":"1464.23","end_time":"1467.26","sentance":"If you'd like to find out more about microservices patterns ."},{"start_time":"1467.72","end_time":"1479.36","sentance":"I'd recommend watching the session named build Brazilian microservices using fault tolerant patterns in this session , we looked at what are today's modern application requirements ."},{"start_time":"1480.06","end_time":"1485.62","sentance":"We then explored why customers moved from a one size fits all approach to purpose built databases ."},{"start_time":"1486.62","end_time":"1495.88","sentance":"We looked at how you can choose the right database for the right job and we saw how it can help you achieve greater scale , better performance and greater availability ."},{"start_time":"1497.9","end_time":"1503.12","sentance":"We covered a number of different topics in this session , but the learning does not have to stop here ."},{"start_time":"1503.13","end_time":"1507.01","sentance":"We encourage you to check out our training and certification content ."},{"start_time":"1507.7","end_time":"1515.5","sentance":"We offer over 500 free digital courses that can help you and your team build new cloud skills and learn about the latest services ."},{"start_time":"1516.36","end_time":"1521.85","sentance":"And as you build your skills , consider preparing for one of our 11 aws certifications ."},{"start_time":"1523.1","end_time":"1526.14","sentance":"You can scan the QR codes in this slide to find out more ."},{"start_time":"1527.89","end_time":"1529.57","sentance":"Thank you for attending this talk ."},{"start_time":"1529.58","end_time":"1534.39","sentance":"We would love to hear your feedback to help us improve the AWS summit experience ."},{"start_time":"1534.4","end_time":"1537.5","sentance":"So please remember to complete the session survey ."}]